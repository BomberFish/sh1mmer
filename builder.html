<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Wax4Web</title>
    <link rel="icon" href="https://bomberfish.ca/sh1mmer/icon.png" />
    <link rel="stylesheet" href="https://bomberfish.ca/sh1mmer/main.css"/>
    <script src="https://bomberfish.ca/sh1mmer/script.js" defer></script>

    <script src="https://bomberfish.ca/sh1mmer/wax4web/libv86.js"></script>
    <script>
        const $ = _ => document.querySelector(_);

        window.addEventListener("load", () => {
            $("#injector_output").value = "";
            $("#hd_image").addEventListener("change", e => {
                if ($("#hd_image").files.length < 0) {
                    alert("Please select a file!");
                } else {
                    startVM();
                }
            });
        });
        window.addEventListener("beforeunload", (event) => {
            if (building) {
                event.preventDefault();
                event.returnValue = "";
            }
        }, { capture: true });
        function start() {
            $("#injector_output").value = "";
            $("#hd_image").click();
        }
        function startVM() {
            var emulator = window.emulator = new V86Starter({
                wasm_path: "https://bomberfish.ca/sh1mmer/wax4web/v86.wasm",
                memory_size: 512 * 1024 * 1024,
                vga_memory_size: 2 * 1024 * 1024,
                screen_container: $("#screen_container"),
                bios: {
                    url: "https://bomberfish.ca/sh1mmer/wax4web/seabios.bin",
                },
                vga_bios: {
                    url: "https://bomberfish.ca/sh1mmer/wax4web/vgabios.bin",
                },
                bzimage: {
                    url: "https://bomberfish.ca/sh1mmer/wax4web/bzImage"
                },
                initrd: {
                    url: "https://bomberfish.ca/sh1mmer/wax4web/bw"
                },
                hda: {
                    buffer: document.all.hd_image.files[0]
                },
                serial_container: $("#injector_output"),
                autostart: true,
            });
            emulator.add_listener("serial0-output-char", function (char) {
                data += char;
                if (data.endsWith("Your shim has finished building")) {
                    generateURL();
                }
            });
            building = true;
        }
        function generateURL() {
            building = false
            document.all.downloadURL.href = window.URL.createObjectURL(emulator.disk_images.hda.get_as_file());
            document.all.downloadURL.click()

        }
        var data = ""
        var building = false

    </script>
</head>

<body>
    <div class="header">
        <h3>Wax4Web has been taken down.</h3>
        <p class="acronym">
            Legally Requested By Googleâ„¢
        </p>
    </div>
    <div class="section blue">
        <h3>What happened?</h3>
        <p>
            On July 11, 2023, we at Mercury Workshop had 
            received a notice from Google, informing us 
            to take down both the downloads for the SH1MMER 
            bins and the website builder.
        </p>
        <p>
            Not wanting to deal with the legality of it all,
            we had no choice but to obligate with what they 
            requested from us, and the builder & bins have 
            been taken offline.
        </p>
        <p>
            This doesn't mark the end of things, but it does
            mean that we can no longer provide a place for users
            to download SH1MMER bins nor' build a injected shim.
        </p>
        <p>
            Thank you. For more information, check the <a href=
            "https://dl.sh1mmer.me/raw%20shims/README.md">
            README.md
            </a>
        </p>
    </div>
    <div class="section green">
        <h3>
          <a href="/faq.html" target="_self">FAQ</a>
          <a href="/scam.html" target="_self">Scams</a>
          <a href="/credits.html" target="_self">Credits</a>
        </h3>
        <p> We have a
          <a href="https://akkoma.mercurywork.shop">
            Fediverse server!
          </a>
          <spc></spc>
          Join if you're interested or want a chill instance.<br>
    
          For actual support, there is (begrudgingly) a <a href="https://discord.gg/bAgNyGpXSx">
          Discord
          </a>
          <spc></spc>as well.
        </p>
      </div>
</body>

</html>
